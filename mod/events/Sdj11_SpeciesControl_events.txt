namespace = SdjEvent
###########################################
###########################################
#####									#####
#####	Species Discrimination on Job	#####
#####									#####
#####	Events for Menu					#####
#####									#####
###########################################
###########################################

##############
##	Memo	##
##############
#
# A pop for each species are saved event target instead of species own.
# Because, apply scripted trigger to check whether pops can work this job or not,
#				to scripted location for showning allowed job has 'has_species_flag = xxxx@country'.
#
###################
###	Constants	###
###################
@SdjConstMenuListedSpecies = 12
@SdjConstMenuListOffset	=	4

#######################
###	Menu of Edict	###
#######################
country_event = {
	id = SdjEvent.1011
	desc = "SdjEvent.1011.desc"
	picture = {
		trigger = { is_gestalt = no }
		picture = GFX_evt_alien_propaganda
	}
	picture = {
		trigger = { is_gestalt = yes is_hive_empire = yes }
		picture = GFX_evt_hive_mind
	}
	picture = {
		trigger = { is_gestalt = yes is_hive_empire = no }
		picture = GFX_evt_machine_sapience
	}
	is_triggered_only = yes
	immediate = {
		### Initialization of Variables and Flags
		if = { limit = { NOT = { has_country_flag = SdjFlagSpeciesMenuOpened } }
			set_country_flag = SdjFlagSpeciesMenuOpened
			set_variable = { which = SdjVarPageOfMenu value = 1 }
		}
		every_owned_pop_species = { remove_species_flag = CmtFlagSpeciesAlreadyListed@root }
		# remove_country_flag = SdjFlagExitToggleMenu
		SdjEffectDetectExpantionPatch = yes
		### Target Owner Species, Set Offset of Species List
		if = {
			limit = {
				check_variable = { which = SdjVarPageOfMenu value < 1.5 }
				exists = owner_species
				any_owned_pop = { is_exact_same_species = root.owner_species }
			}
			random_owned_pop = {
				limit = { is_exact_same_species = root.owner_species }
				save_event_target_as = SdjTargetPop05		## @SdjConstMenuListOffset + 1
			}
			set_variable = { which = SdjVarSpeciesListedNum value = @SdjConstMenuListOffset }		## Only offset, but not count owner yet
		}
		else = {
			### ListedNum := - CurrentPage * {(Species/Page) - 1 } + Offset
			set_variable = { which = SdjVarSpeciesListedNum value = SdjVarPageOfMenu }
			multiply_variable = { which = SdjVarSpeciesListedNum value = -1 }
			multiply_variable = { which = SdjVarSpeciesListedNum value = @SdjConstMenuListedSpecies }
			change_variable = { which = SdjVarSpeciesListedNum value = @SdjConstMenuListedSpecies }
			change_variable = { which = SdjVarSpeciesListedNum value = @SdjConstMenuListOffset }
		}
		### Count Owner Species, Sort: owner_main -> owner -> robot -> others
		if = {
			limit = {
				exists = owner_species
				any_owned_pop = { is_exact_same_species = root.owner_species }
			}
			set_variable = { which = SdjVarSpeciesTotalNum value = 1 }
			change_variable = { which = SdjVarSpeciesListedNum value = 1 }
			owner_species = { SdjEffectSetFlagToSpeciesListedMenu = yes }
		}
		else = { set_variable = { which = SdjVarSpeciesTotalNum value = 0 } }

		every_owned_pop_species = {
			limit = {
				SdjTriggerAvailableSpeciesMenu = yes
				is_same_species = root.owner_species
				NOT = { is_exact_same_species = root.owner_species }
			}
			CmtEffectListUpThisSpecies = yes
		}
		every_owned_pop_species = {
			limit = {
				SdjTriggerAvailableSpeciesMenu = yes
				NOT = { is_same_species = root.owner_species }
				is_robotic = yes # has_trait = trait_mechanical
				# is_valid_pop_for_PLANET_KILLER_NANOBOTS = yes
			}
			CmtEffectListUpThisSpecies = yes
		}
		# Ordered in sub-species
		every_owned_pop_species = {
			limit = {
				SdjTriggerAvailableSpeciesMenu = yes
				NOR = {
					is_same_species = root.owner_species
					is_robotic = yes # has_trait = trait_mechanical
				}
			}
			prev = {
				every_owned_pop_species = {
					limit = {
						is_same_species = prevprev
						NOT = { has_species_flag = CmtFlagSpeciesAlreadyListed@root }
					}
					CmtEffectListUpThisSpecies = yes
				}
			}
		}
		### Count Page of Menus
		set_variable = { which = SdjVarMaxPageOfMenu value = 0 }
		change_variable = { which = SdjVarSpeciesTotalNum value = @SdjConstMenuListOffset }
		while = {
			limit = { check_variable = { which = SdjVarSpeciesTotalNum value > 0.5 } }
			subtract_variable = { which = SdjVarSpeciesTotalNum value = @SdjConstMenuListedSpecies }
			change_variable = { which = SdjVarMaxPageOfMenu value = 1 }
		}
		while = {
			count = @SdjConstMenuListedSpecies
			change_variable = { which = SdjVarSpeciesTotalNum value = SdjVarMaxPageOfMenu }
		}
		subtract_variable = { which = SdjVarSpeciesTotalNum value = @SdjConstMenuListOffset }
	}
	after = {
		hidden_effect = {
			if = {
				limit = {
					has_country_flag = SdjFlagSpeciesMenuOpened
					exists = event_target:SdjTargetPopA
				}
				event_target:SdjTargetPopA = {
					species = { save_event_target_as = SdjTargetSpeciesA }
					root = { country_event = { id = SdjEvent.1013 } }
				}
			}
		}
	}
	option = {		## More Information
		name = SdjEvent.1011x.name
		custom_tooltip = SdjEvent.1011x.tooltip
		trigger = { check_variable = { which = SdjVarPageOfMenu value < 1.5 } }
		hidden_effect = { country_event = { id = SdjEvent.1021 } }
	}
	option = {		## Set Default to All Species
		name = SdjEvent.1011y.name
		custom_tooltip = SdjEvent.1011y.tooltip
		trigger = { check_variable = { which = SdjVarPageOfMenu value < 1.5 } }
		hidden_effect = { country_event = { id = SdjEvent.1019 } }
	}
	option = {		## Default Right
		name = SdjEvent.1011z.name
		custom_tooltip = SdjEvent.1011z.tooltip
		trigger = { check_variable = { which = SdjVarPageOfMenu value < 1.5 } }
		hidden_effect = { country_event = { id = SdjEvent.1012 } }
	}
	option = {
		name = SdjEvent.1011a.name
		custom_tooltip = SdjEvent.1011a.tooltip
		trigger = {
			exists = event_target:SdjTargetPop01
			check_variable = { which = SdjVarSpeciesListedNum value > 0.5 }
			check_variable = { which = SdjVarPageOfMenu value > 1.5 }
		}
		hidden_effect = { event_target:SdjTargetPop01 = { save_event_target_as = SdjTargetPopA } }
	}
	option = {
		name = SdjEvent.1011b.name
		custom_tooltip = SdjEvent.1011b.tooltip
		trigger = {
			exists = event_target:SdjTargetPop02
			check_variable = { which = SdjVarSpeciesListedNum value > 1.5 }
			check_variable = { which = SdjVarPageOfMenu value > 1.5 }
		}
		hidden_effect = { event_target:SdjTargetPop02 = { save_event_target_as = SdjTargetPopA } }
	}
	option = {
		name = SdjEvent.1011c.name
		custom_tooltip = SdjEvent.1011c.tooltip
		trigger = {
			exists = event_target:SdjTargetPop03
			check_variable = { which = SdjVarSpeciesListedNum value > 2.5 }
			check_variable = { which = SdjVarPageOfMenu value > 1.5 }
		}
		hidden_effect = { event_target:SdjTargetPop03 = { save_event_target_as = SdjTargetPopA } }
	}
	option = {
		name = SdjEvent.1011d.name
		custom_tooltip = SdjEvent.1011d.tooltip
		trigger = {
			exists = event_target:SdjTargetPop04
			check_variable = { which = SdjVarSpeciesListedNum value > 3.5 }
			check_variable = { which = SdjVarPageOfMenu value > 1.5 }
		}
		hidden_effect = { event_target:SdjTargetPop04 = { save_event_target_as = SdjTargetPopA } }
	}
	# option = {
	# 	name = SdjTextSeparator.name
	# 	custom_tooltip = SdjTextSeparator.tooltip
	# 	trigger = { check_variable = { which = SdjVarSpeciesListedNum value > 4.5 } }
	# 	allow = { hidden_trigger = { always = no } }
	# }
	option = {
		name = SdjEvent.1011e.name
		custom_tooltip = SdjEvent.1011e.tooltip
		trigger = {
			exists = event_target:SdjTargetPop05
			check_variable = { which = SdjVarSpeciesListedNum value > 4.5 }
		}
		hidden_effect = { event_target:SdjTargetPop05 = { save_event_target_as = SdjTargetPopA } }
	}
	option = {
		name = SdjEvent.1011f.name
		custom_tooltip = SdjEvent.1011f.tooltip
		trigger = {
			exists = event_target:SdjTargetPop06
			check_variable = { which = SdjVarSpeciesListedNum value > 5.5 }
		}
		hidden_effect = { event_target:SdjTargetPop06 = { save_event_target_as = SdjTargetPopA } }
	}
	option = {
		name = SdjEvent.1011g.name
		custom_tooltip = SdjEvent.1011g.tooltip
		trigger = {
			exists = event_target:SdjTargetPop07
			check_variable = { which = SdjVarSpeciesListedNum value > 6.5 }
		}
		hidden_effect = { event_target:SdjTargetPop07 = { save_event_target_as = SdjTargetPopA } }
	}
	option = {
		name = SdjEvent.1011h.name
		custom_tooltip = SdjEvent.1011h.tooltip
		trigger = {
			exists = event_target:SdjTargetPop08
			check_variable = { which = SdjVarSpeciesListedNum value > 7.5 }
		}
		hidden_effect = { event_target:SdjTargetPop08 = { save_event_target_as = SdjTargetPopA } }
	}
	# option = {
	# 	name = SdjTextSeparator.name
	# 	custom_tooltip = SdjTextSeparator.tooltip
	# 	trigger = { check_variable = { which = SdjVarSpeciesListedNum value > 8.5 } }
	# 	allow = { hidden_trigger = { always = no } }
	# }
	option = {
		name = SdjEvent.1011i.name
		custom_tooltip = SdjEvent.1011i.tooltip
		trigger = {
			exists = event_target:SdjTargetPop09
			check_variable = { which = SdjVarSpeciesListedNum value > 8.5 }
		}
		hidden_effect = { event_target:SdjTargetPop09 = { save_event_target_as = SdjTargetPopA } }
	}
	option = {
		name = SdjEvent.1011j.name
		custom_tooltip = SdjEvent.1011j.tooltip
		trigger = {
			exists = event_target:SdjTargetPop10
			check_variable = { which = SdjVarSpeciesListedNum value > 9.5 }
		}
		hidden_effect = { event_target:SdjTargetPop10 = { save_event_target_as = SdjTargetPopA } }
	}
	option = {
		name = SdjEvent.1011k.name
		custom_tooltip = SdjEvent.1011k.tooltip
		trigger = {
			exists = event_target:SdjTargetPop11
			check_variable = { which = SdjVarSpeciesListedNum value > 10.5 }
		}
		hidden_effect = { event_target:SdjTargetPop11 = { save_event_target_as = SdjTargetPopA } }
	}
	option = {
		name = SdjEvent.1011l.name
		custom_tooltip = SdjEvent.1011l.tooltip
		trigger = {
			exists = event_target:SdjTargetPop12
			check_variable = { which = SdjVarSpeciesListedNum value > 11.5 }
		}
		hidden_effect = { event_target:SdjTargetPop12 = { save_event_target_as = SdjTargetPopA } }
	}
	# option = {
	# 	name = SdjTextSeparator.name
	# 	custom_tooltip = SdjTextSeparator.tooltip
	# 	allow = { hidden_trigger = { always = no } }
	# }
	option = {
		name = SdjTextNextPage.name
		custom_tooltip = SdjTextNextPage.tooltip
		trigger = { check_variable = { which = SdjVarSpeciesListedNum value > 12.5 } }
		hidden_effect = {
			change_variable = { which = SdjVarPageOfMenu value = 1 }
			country_event = { id = SdjEvent.1011 }
		}
	}
	option = {
		name = SdjTextPrevPage.name
		custom_tooltip = SdjTextPrevPage.tooltip
		trigger = { check_variable = { which = SdjVarPageOfMenu value > 1.5 } }
		hidden_effect = {
			change_variable = { which = SdjVarPageOfMenu value = -1 }
			country_event = { id = SdjEvent.1011 }
		}
	}
	option = {
		name = SdjTextExit.name
		custom_tooltip = SdjTextExit.tooltip
		hidden_effect = {
			remove_country_flag = SdjFlagSpeciesMenuOpened
			every_owned_pop_species = { remove_species_flag = CmtFlagSpeciesAlreadyListed@root }
			clear_variable = SdjVarSpeciesListedNum
			clear_variable = SdjVarSpeciesTotalNum
			clear_variable = SdjVarMaxPageOfMenu
		}
	}
}

country_event = {		## Default Right
	id = SdjEvent.1012
	desc = "SdjEvent.1012.desc"
	base = SdjEvent.1011
	desc_clear = yes
	option_clear = yes
	is_triggered_only = yes
	after = {
		hidden_effect = { country_event = { id = SdjEvent.1011 } }
	}
	option = {
		name = SdjTextKeepCurrent.name
		custom_tooltip = SdjTextKeepCurrent.tooltip
	}
	option = {
		name = SdjEvent.1012.321.name
		custom_tooltip = SdjEvent.1012.321.tooltip
		trigger = { SdjTriggerAvailableCountryGestalt = no }
		hidden_effect = {
			remove_country_flag = SdjFlagDefaultForbidRank3
			remove_country_flag = SdjFlagDefaultForbidRank2
			remove_country_flag = SdjFlagDefaultForbidRank1
		}
	}
	# option = {
	# 	name = SdjTextSeparator.name
	# 	custom_tooltip = SdjTextSeparator.tooltip
	# 	allow = { hidden_trigger = { always = no } }
	# }
	option = {
		name = SdjEvent.1012.320.name
		custom_tooltip = SdjEvent.1012.320.tooltip
		trigger = { SdjTriggerAvailableCountryGestalt = no }
		hidden_effect = {
			remove_country_flag = SdjFlagDefaultForbidRank3
			remove_country_flag = SdjFlagDefaultForbidRank2
			set_country_flag = SdjFlagDefaultForbidRank1
		}
	}
	option = {
		name = SdjEvent.1012.301.name
		custom_tooltip = SdjEvent.1012.301.tooltip
		trigger = { SdjTriggerAvailableCountryGestalt = no }
		hidden_effect = {
			remove_country_flag = SdjFlagDefaultForbidRank3
			set_country_flag = SdjFlagDefaultForbidRank2
			remove_country_flag = SdjFlagDefaultForbidRank1
		}
	}
	option = {
		name = SdjEvent.1012.021.name
		custom_tooltip = SdjEvent.1012.021.tooltip
		hidden_effect = {
			set_country_flag = SdjFlagDefaultForbidRank3
			remove_country_flag = SdjFlagDefaultForbidRank2
			remove_country_flag = SdjFlagDefaultForbidRank1
		}
	}
	# option = {
	# 	name = SdjTextSeparator.name
	# 	custom_tooltip = SdjTextSeparator.tooltip
	# 	allow = { hidden_trigger = { always = no } }
	# }
	option = {
		name = SdjEvent.1012.300.name
		custom_tooltip = SdjEvent.1012.300.tooltip
		trigger = { SdjTriggerAvailableCountryGestalt = no }
		hidden_effect = {
			remove_country_flag = SdjFlagDefaultForbidRank3
			set_country_flag = SdjFlagDefaultForbidRank2
			set_country_flag = SdjFlagDefaultForbidRank1
		}
	}
	option = {
		name = SdjEvent.1012.020.name
		custom_tooltip = SdjEvent.1012.020.tooltip
		hidden_effect = {
			set_country_flag = SdjFlagDefaultForbidRank3
			remove_country_flag = SdjFlagDefaultForbidRank2
			set_country_flag = SdjFlagDefaultForbidRank1
		}
	}
	option = {
		name = SdjEvent.1012.001.name
		custom_tooltip = SdjEvent.1012.001.tooltip
		hidden_effect = {
			set_country_flag = SdjFlagDefaultForbidRank3
			set_country_flag = SdjFlagDefaultForbidRank2
			remove_country_flag = SdjFlagDefaultForbidRank1
		}
	}
	# option = {
	# 	name = SdjTextSeparator.name
	# 	custom_tooltip = SdjTextSeparator.tooltip
	# 	trigger = { SdjTriggerAvailableCountryGestalt = no }
	# 	allow = { hidden_trigger = { always = no } }
	# }
	option = {
		name = SdjEvent.1012.000.name
		custom_tooltip = SdjEvent.1012.000.tooltip
		hidden_effect = {
			set_country_flag = SdjFlagDefaultForbidRank3
			set_country_flag = SdjFlagDefaultForbidRank2
			set_country_flag = SdjFlagDefaultForbidRank1
		}
	}
	# option = {
	# 	name = SdjTextSeparator.name
	# 	custom_tooltip = SdjTextSeparator.tooltip
	# 	trigger = { SdjTriggerAvailableCountryGestalt = no }
	# 	allow = { hidden_trigger = { always = no } }
	# }
	option = {
		name = "SdjTextFineTuning"
		custom_tooltip = "SdjTextFineTuning"
		trigger = { has_global_flag = SdjFlagExpansionPatchEnabled }
		allow = {
			custom_tooltip = { fail_text = SdjEvent.1012.FineTuning.fail.tooltip always = no }
		}
	}
}

country_event = {		## Right of Each Species
	id = SdjEvent.1013
	# title = SdjEvent.1011.name
	desc = SdjEvent.1013.desc
	base = SdjEvent.1011
	desc_clear = yes
	option_clear = yes
	is_triggered_only = yes
	option = {
		name = SdjTextKeepCurrent.name
		custom_tooltip = SdjTextKeepCurrent.tooltip
		hidden_effect = { country_event = { id = SdjEvent.1011 } }
	}
	option = {
		name = SdjEvent.1013.def.name
		custom_tooltip = "SdjTextGoBack.name"
		hidden_effect = {
			if = { limit = { event_target:SdjTargetSpeciesA = { SdjTriggerSubSpeciesModifiable = yes } }
				event_target:SdjTargetSpeciesA = {
					remove_species_flag = SdjFlagForbiddenSeparately_@root
					remove_species_flag = SdjFlagForbiddenFinely_@root
					remove_species_flag = SdjFlagForbiddenRank3_@root
					remove_species_flag = SdjFlagForbiddenRank2_@root
					remove_species_flag = SdjFlagForbiddenRank1_@root
					SdjEffectUnbanSpeciesFrom_cat_ruler = yes
					SdjEffectUnbanSpeciesFrom_cat_specialist = yes
					SdjEffectUnbanSpeciesFrom_cat_worker = yes
					SdjEffectUnbanSpeciesFrom_cat_complex_drone = yes
					SdjEffectUnbanSpeciesFrom_cat_simple_drone = yes
					remove_species_flag = SdjFlagForbidden_job_criminal_@prev
					remove_species_flag = SdjFlagForbidden_job_deviant_drone_@prev
					remove_species_flag = SdjFlagForbidden_job_corrupt_drone_@prev
				}
			}
			else = {
				every_owned_pop_species = {
					limit = { is_same_species = event_target:SdjTargetSpeciesA }
					remove_species_flag = SdjFlagForbiddenSeparately_@root
					remove_species_flag = SdjFlagForbiddenFinely_@root
					remove_species_flag = SdjFlagForbiddenRank3_@root
					remove_species_flag = SdjFlagForbiddenRank2_@root
					remove_species_flag = SdjFlagForbiddenRank1_@root
					SdjEffectUnbanSpeciesFrom_cat_ruler = yes
					SdjEffectUnbanSpeciesFrom_cat_specialist = yes
					SdjEffectUnbanSpeciesFrom_cat_worker = yes
					SdjEffectUnbanSpeciesFrom_cat_complex_drone = yes
					SdjEffectUnbanSpeciesFrom_cat_simple_drone = yes
					remove_species_flag = SdjFlagForbidden_job_criminal_@prev
					remove_species_flag = SdjFlagForbidden_job_deviant_drone_@prev
					remove_species_flag = SdjFlagForbidden_job_corrupt_drone_@prev
				}
			}
			country_event = { id = SdjEvent.1011 }
		}
	}
	option = {
		name = SdjEvent.1013.321.name
		custom_tooltip = SdjEvent.1013.321.tooltip
		trigger = { SdjTriggerAvailableCountryGestalt = no }
		hidden_effect = {
			if = { limit = { event_target:SdjTargetSpeciesA = { SdjTriggerSubSpeciesModifiable = yes } }
				event_target:SdjTargetSpeciesA = {
					set_species_flag = SdjFlagForbiddenSeparately_@root
					remove_species_flag = SdjFlagForbiddenRank3_@root
					remove_species_flag = SdjFlagForbiddenRank2_@root
					remove_species_flag = SdjFlagForbiddenRank1_@root
				}
			}
			else = {
				every_owned_pop_species = {
					limit = { is_same_species = event_target:SdjTargetSpeciesA }
					set_species_flag = SdjFlagForbiddenSeparately_@root
					remove_species_flag = SdjFlagForbiddenRank3_@root
					remove_species_flag = SdjFlagForbiddenRank2_@root
					remove_species_flag = SdjFlagForbiddenRank1_@root
				}
			}
			country_event = { id = SdjEvent.1011 }
		}
	}
	# option = {
	# 	name = SdjTextSeparator.name
	# 	custom_tooltip = SdjTextSeparator.tooltip
	# 	trigger = { SdjTriggerAvailableCountryGestalt = no }
	# 	allow = { hidden_trigger = { always = no } }
	# }
	option = {
		name = SdjEvent.1013.320.name
		custom_tooltip = SdjEvent.1013.320.tooltip
		trigger = { SdjTriggerAvailableCountryGestalt = no }
		hidden_effect = {
			if = { limit = { event_target:SdjTargetSpeciesA = { SdjTriggerSubSpeciesModifiable = yes } }
				event_target:SdjTargetSpeciesA = {
					set_species_flag = SdjFlagForbiddenSeparately_@root
					remove_species_flag = SdjFlagForbiddenRank3_@root
					remove_species_flag = SdjFlagForbiddenRank2_@root
					set_species_flag = SdjFlagForbiddenRank1_@root
				}
			}
			else = {
				every_owned_pop_species = {
					limit = { is_same_species = event_target:SdjTargetSpeciesA }
					set_species_flag = SdjFlagForbiddenSeparately_@root
					remove_species_flag = SdjFlagForbiddenRank3_@root
					remove_species_flag = SdjFlagForbiddenRank2_@root
					set_species_flag = SdjFlagForbiddenRank1_@root
				}
			}
			country_event = { id = SdjEvent.1011 }
		}
	}
	option = {
		name = SdjEvent.1013.301.name
		custom_tooltip = SdjEvent.1013.301.tooltip
		trigger = { SdjTriggerAvailableCountryGestalt = no }
		hidden_effect = {
			if = { limit = { event_target:SdjTargetSpeciesA = { SdjTriggerSubSpeciesModifiable = yes } }
				event_target:SdjTargetSpeciesA = {
					set_species_flag = SdjFlagForbiddenSeparately_@root
					remove_species_flag = SdjFlagForbiddenRank3_@root
					set_species_flag = SdjFlagForbiddenRank2_@root
					remove_species_flag = SdjFlagForbiddenRank1_@root
				}
			}
			else = {
				every_owned_pop_species = {
					limit = { is_same_species = event_target:SdjTargetSpeciesA }
					set_species_flag = SdjFlagForbiddenSeparately_@root
					remove_species_flag = SdjFlagForbiddenRank3_@root
					set_species_flag = SdjFlagForbiddenRank2_@root
					remove_species_flag = SdjFlagForbiddenRank1_@root
				}
			}
			country_event = { id = SdjEvent.1011 }
		}
	}
	option = {
		name = SdjEvent.1013.021.name
		custom_tooltip = SdjEvent.1013.021.tooltip
		hidden_effect = {
			if = { limit = { event_target:SdjTargetSpeciesA = { SdjTriggerSubSpeciesModifiable = yes } }
				event_target:SdjTargetSpeciesA = {
					set_species_flag = SdjFlagForbiddenSeparately_@root
					set_species_flag = SdjFlagForbiddenRank3_@root
					remove_species_flag = SdjFlagForbiddenRank2_@root
					remove_species_flag = SdjFlagForbiddenRank1_@root
				}
			}
			else = {
				every_owned_pop_species = {
					limit = { is_same_species = event_target:SdjTargetSpeciesA }
					set_species_flag = SdjFlagForbiddenSeparately_@root
					set_species_flag = SdjFlagForbiddenRank3_@root
					remove_species_flag = SdjFlagForbiddenRank2_@root
					remove_species_flag = SdjFlagForbiddenRank1_@root
				}
			}
			country_event = { id = SdjEvent.1011 }
		}
	}
	# option = {
	# 	name = SdjTextSeparator.name
	# 	custom_tooltip = SdjTextSeparator.tooltip
	# 	allow = { hidden_trigger = { always = no } }
	# }
	option = {
		name = SdjEvent.1013.300.name
		custom_tooltip = SdjEvent.1013.300.tooltip
		trigger = { SdjTriggerAvailableCountryGestalt = no }
		hidden_effect = {
			if = { limit = { event_target:SdjTargetSpeciesA = { SdjTriggerSubSpeciesModifiable = yes } }
				event_target:SdjTargetSpeciesA = {
					set_species_flag = SdjFlagForbiddenSeparately_@root
					remove_species_flag = SdjFlagForbiddenRank3_@root
					set_species_flag = SdjFlagForbiddenRank2_@root
					set_species_flag = SdjFlagForbiddenRank1_@root
				}
			}
			else = {
				every_owned_pop_species = {
					limit = { is_same_species = event_target:SdjTargetSpeciesA }
					set_species_flag = SdjFlagForbiddenSeparately_@root
					remove_species_flag = SdjFlagForbiddenRank3_@root
					set_species_flag = SdjFlagForbiddenRank2_@root
					set_species_flag = SdjFlagForbiddenRank1_@root
				}
			}
			country_event = { id = SdjEvent.1011 }
		}
	}
	option = {
		name = SdjEvent.1013.020.name
		custom_tooltip = SdjEvent.1013.020.tooltip
		hidden_effect = {
			if = { limit = { event_target:SdjTargetSpeciesA = { SdjTriggerSubSpeciesModifiable = yes } }
				event_target:SdjTargetSpeciesA = {
					set_species_flag = SdjFlagForbiddenSeparately_@root
					set_species_flag = SdjFlagForbiddenRank3_@root
					remove_species_flag = SdjFlagForbiddenRank2_@root
					set_species_flag = SdjFlagForbiddenRank1_@root
				}
			}
			else = {
				every_owned_pop_species = {
					limit = { is_same_species = event_target:SdjTargetSpeciesA }
					set_species_flag = SdjFlagForbiddenSeparately_@root
					set_species_flag = SdjFlagForbiddenRank3_@root
					remove_species_flag = SdjFlagForbiddenRank2_@root
					set_species_flag = SdjFlagForbiddenRank1_@root
				}
			}
			country_event = { id = SdjEvent.1011 }
		}
	}
	option = {
		name = SdjEvent.1013.001.name
		custom_tooltip = SdjEvent.1013.001.tooltip
		hidden_effect = {
			if = { limit = { event_target:SdjTargetSpeciesA = { SdjTriggerSubSpeciesModifiable = yes } }
				event_target:SdjTargetSpeciesA = {
					set_species_flag = SdjFlagForbiddenSeparately_@root
					set_species_flag = SdjFlagForbiddenRank3_@root
					set_species_flag = SdjFlagForbiddenRank2_@root
					remove_species_flag = SdjFlagForbiddenRank1_@root
				}
			}
			else = {
				every_owned_pop_species = {
					limit = { is_same_species = event_target:SdjTargetSpeciesA }
					set_species_flag = SdjFlagForbiddenSeparately_@root
					set_species_flag = SdjFlagForbiddenRank3_@root
					set_species_flag = SdjFlagForbiddenRank2_@root
					remove_species_flag = SdjFlagForbiddenRank1_@root
				}
			}
			country_event = { id = SdjEvent.1011 }
		}
	}
	# option = {
	# 	name = SdjTextSeparator.name
	# 	custom_tooltip = SdjTextSeparator.tooltip
	# 	trigger = { SdjTriggerAvailableCountryGestalt = no }
	# 	allow = { hidden_trigger = { always = no } }
	# }
	option = {
		name = SdjEvent.1013.000.name
		custom_tooltip = SdjEvent.1013.000.tooltip
		hidden_effect = {
			if = { limit = { event_target:SdjTargetSpeciesA = { SdjTriggerSubSpeciesModifiable = yes } }
				event_target:SdjTargetSpeciesA = {
					set_species_flag = SdjFlagForbiddenSeparately_@root
					set_species_flag = SdjFlagForbiddenRank3_@root
					set_species_flag = SdjFlagForbiddenRank2_@root
					set_species_flag = SdjFlagForbiddenRank1_@root
				}
			}
			else = {
				every_owned_pop_species = {
					limit = { is_same_species = event_target:SdjTargetSpeciesA }
					set_species_flag = SdjFlagForbiddenSeparately_@root
					set_species_flag = SdjFlagForbiddenRank3_@root
					set_species_flag = SdjFlagForbiddenRank2_@root
					set_species_flag = SdjFlagForbiddenRank1_@root
				}
			}
			country_event = { id = SdjEvent.1011 }
		}
	}
	option = {
		name = SdjTextSeparator.name
		custom_tooltip = SdjTextSeparator.tooltip
		trigger = { has_global_flag = SdjFlagExpansionPatchEnabled }
		allow = { hidden_trigger = { always = no } }
	}
	### Fine Tuning
	option = {
		name = SdjEvent.1013.Reg3.name
		custom_tooltip = SdjEvent.1013.Reg3.tooltip
		trigger = {
			has_global_flag = SdjFlagExpansionPatchEnabled
			SdjTriggerAvailableCountryGestalt = no
		}
		allow = {
			custom_tooltip = {
				fail_text = SdjTextForbiddenCategoryReg3
				event_target:SdjTargetSpeciesA = { NOT = { has_species_flag = SdjFlagForbiddenRank3_@root } }
			}
		}
		hidden_effect = { country_event = { id = SdjEvent.1110 } }
	}
	option = {
		name = SdjEvent.1013.Reg2a.name
		custom_tooltip = SdjEvent.1013.Reg2a.tooltip
		trigger = {
			has_global_flag = SdjFlagExpansionPatchEnabled
			SdjTriggerAvailableCountryGestalt = no
		}
		allow = {
			custom_tooltip = {
				fail_text = SdjTextForbiddenCategoryReg2
				event_target:SdjTargetSpeciesA = { NOT = { has_species_flag = SdjFlagForbiddenRank2_@root } }
			}
		}
		hidden_effect = { country_event = { id = SdjEvent.1121 } }
	}
	option = {
		name = SdjEvent.1013.Reg2b.name
		custom_tooltip = SdjEvent.1013.Reg2b.tooltip
		trigger = {
			has_global_flag = SdjFlagExpansionPatchEnabled
			SdjTriggerAvailableCountryGestalt = no
		}
		allow = {
			custom_tooltip = {
				fail_text = SdjTextForbiddenCategoryReg2
				event_target:SdjTargetSpeciesA = { NOT = { has_species_flag = SdjFlagForbiddenRank2_@root } }
			}
		}
		hidden_effect = { country_event = { id = SdjEvent.1122 } }
	}
	option = {
		name = SdjEvent.1013.Reg1.name
		custom_tooltip = SdjEvent.1013.Reg1.tooltip
		trigger = {
			has_global_flag = SdjFlagExpansionPatchEnabled
			SdjTriggerAvailableCountryGestalt = no
		}
		allow = {
			custom_tooltip = {
				fail_text = SdjTextForbiddenCategoryReg1
				event_target:SdjTargetSpeciesA = { NOT = { has_species_flag = SdjFlagForbiddenRank1_@root } }
			}
		}
		hidden_effect = { country_event = { id = SdjEvent.1130 } }
	}
	option = {
		name = SdjEvent.1013.Ges2.name
		custom_tooltip = SdjEvent.1013.Ges2.tooltip
		trigger = {
			has_global_flag = SdjFlagExpansionPatchEnabled
			SdjTriggerAvailableCountryGestalt = yes
		}
		allow = {
			custom_tooltip = {
				fail_text = SdjTextForbiddenCategoryGes2
				event_target:SdjTargetSpeciesA = { NOT = { has_species_flag = SdjFlagForbiddenRank2_@root } }
			}
		}
		hidden_effect = { country_event = { id = SdjEvent.1210 } }
	}
	option = {
		name = SdjEvent.1013.Ges1.name
		custom_tooltip = SdjEvent.1013.Ges1.tooltip
		trigger = {
			has_global_flag = SdjFlagExpansionPatchEnabled
			SdjTriggerAvailableCountryGestalt = yes
		}
		allow = {
			custom_tooltip = {
				fail_text = SdjTextForbiddenCategoryGes1
				event_target:SdjTargetSpeciesA = { NOT = { has_species_flag = SdjFlagForbiddenRank1_@root } }
			}
		}
		hidden_effect = { country_event = { id = SdjEvent.1220 } }
	}
	### Templates
	option = {
		name = SdjEvent.1013.Template.name
		custom_tooltip = SdjEvent.1013.Template.tooltip
		trigger = { has_global_flag = SdjFlagExpansionPatchEnabled }
		hidden_effect = { country_event = { id = SdjEvent.1030 } }
	}
	### Modify Subspecies Separately
	option = {
		name = SdjEvent.1013s1.name
		custom_tooltip = SdjEvent.1013s1.tooltip
		trigger = {
			has_global_flag = SdjFlagExpansionPatchEnabled
			event_target:SdjTargetSpeciesA = {
				SdjTriggerSubSpeciesModifiable = no
				# NOR = {
				# 	has_species_flag = SdjFlagSubSpeciesModified_@root
				# 	SdjTriggerSubSpeciesOriginallyModifiable = yes
				# }
			}
		}
		hidden_effect = { country_event = { id = SdjEvent.1022 } }
	}
	option = {
		name = SdjEvent.1013s2.name
		custom_tooltip = SdjEvent.1013s2.tooltip
		trigger = {
			has_global_flag = SdjFlagExpansionPatchEnabled
			event_target:SdjTargetSpeciesA = {
				has_species_flag = SdjFlagSubSpeciesModified_@root
				# SdjTriggerSubSpeciesOriginallyModifiable = no
				NAND = {
					root = { SdjTriggerAvailableCountryGestalt = yes }
					is_same_species = root.owner_species
					OR = {
						has_trait = trait_hive_mind
						has_trait = trait_machine_unit
					}
				}
			}
		}
		hidden_effect = { country_event = { id = SdjEvent.1022 } }
	}
}

### Return to Default
country_event = {
	id = SdjEvent.1019
	desc = SdjEvent.1019.desc
	base = SdjEvent.1011
	desc_clear = yes
	option_clear = yes
	is_triggered_only = yes
	after = {
		hidden_effect = { country_event = { id = SdjEvent.1011 } }
	}
	option = {		## Cancel
		name = SdjEvent.1019a.name
		custom_tooltip = SdjEvent.1019a.tooltip
	}
	option = {		## OK
		name = SdjEvent.1019b.name
		custom_tooltip = SdjEvent.1019b.tooltip
		hidden_effect = {
			every_owned_pop_species = {
				remove_species_flag = SdjFlagForbiddenSeparately_@root
				remove_species_flag = SdjFlagForbiddenRank3_@root
				remove_species_flag = SdjFlagForbiddenRank2_@root
				remove_species_flag = SdjFlagForbiddenRank1_@root
			}
		}
	}
}

### More Information
country_event = {
	id = SdjEvent.1021
	desc = {
		trigger = { SdjTriggerAvailableCountryGestalt = no }
		text = SdjEvent.1021Reg.desc
	}
	desc = {
		trigger = { SdjTriggerAvailableCountryGestalt = yes }
		text = SdjEvent.1021Ges.desc
	}
	base = SdjEvent.1011
	desc_clear = yes
	option_clear = yes
	is_triggered_only = yes
	after = {
		hidden_effect = { country_event = { id = SdjEvent.1011 } }
	}
	option = {
		name = "OK"
		custom_tooltip = SdjEvent.1021a.tooltip
	}
	option = {
		name = SdjEvent.1021b1.name
		custom_tooltip = SdjEvent.1021b1.tooltip
		trigger = {
			SdjTriggerAvailableCountryGestalt = yes
			NOT = { has_country_flag = CmtFlagColorUniversal }
		}
		hidden_effect = { set_country_flag = CmtFlagColorUniversal }
	}
	option = {
		name = SdjEvent.1021b2.name
		custom_tooltip = SdjEvent.1021b2.tooltip
		trigger = {
			SdjTriggerAvailableCountryGestalt = yes
			has_country_flag = CmtFlagColorUniversal
		}
		hidden_effect = { remove_country_flag = CmtFlagColorUniversal }
	}
}

### Modify Sub-species
country_event = {
	id = SdjEvent.1022
	desc = {
		trigger = { NOT = { event_target:SdjTargetSpeciesA = { has_species_flag = SdjFlagSubSpeciesModified_@root } } }
		text = SdjEvent.1022.desc1
	}
	desc = {
		trigger = { event_target:SdjTargetSpeciesA = { has_species_flag = SdjFlagSubSpeciesModified_@root } }
		text = SdjEvent.1022.desc2
	}
	base = SdjEvent.1011
	desc_clear = yes
	option_clear = yes
	is_triggered_only = yes
	option = {
		name = SdjEvent.1019a.name
		custom_tooltip = SdjEvent.1022a.tooltip
		hidden_effect = { country_event = { id = SdjEvent.1013 } }
	}
	option = {
		name = SdjEvent.1022b.name
		custom_tooltip = SdjEvent.1022b.tooltip
		trigger = { NOT = { event_target:SdjTargetSpeciesA = { has_species_flag = SdjFlagSubSpeciesModified_@root } } }
		hidden_effect = {
			every_owned_pop_species = {
				limit = { is_same_species = event_target:SdjTargetSpeciesA }
				set_species_flag = SdjFlagSubSpeciesModified_@root
			}
			country_event = { id = SdjEvent.1011 }
		}
	}
	option = {
		name = SdjEvent.1022b.name
		custom_tooltip = SdjEvent.1022c.tooltip
		trigger = { event_target:SdjTargetSpeciesA = { has_species_flag = SdjFlagSubSpeciesModified_@root } }
		hidden_effect = {
			every_owned_pop_species = {
				limit = { is_same_species = event_target:SdjTargetSpeciesA }
				remove_species_flag = SdjFlagSubSpeciesModified_@root
				event_target:SdjTargetSpeciesA = { prev = { SdjEffectCopySpeciesJobRightSeparately = yes } }
			}
			country_event = { id = SdjEvent.1011 }
		}
	}
}

### Template
country_event = {
	id = SdjEvent.1030
	desc = SdjEvent.1030.desc
	base = SdjEvent.1011
	desc_clear = yes
	option_clear = yes
	is_triggered_only = yes
	after = {
		hidden_effect = { country_event = { id = SdjEvent.1013 } }
	}
	option = {
		name = SdjTextGoBack.name
		custom_tooltip = SdjTextGoBack.tooltip
	}
	# option = {
	# 	name = SdjTextSeparator.name
	# 	custom_tooltip = SdjTextSeparator.tooltip
	# 	allow = { hidden_trigger = { always = no } }
	# }
	### Save to Template
	option = {
		name = SdjEvent.1030a1.name
		custom_tooltip = SdjEvent.1030a1.tooltip
		hidden_effect = {
			set_country_flag = SdjFlagSpeciesJobRightTemplate1Saved
			event_target:SdjTargetSpeciesA = {
				root = {
					# SdjEffectSaveSpeciesJobRightAsTemplate1 = yes
					if = { limit = { prev = { has_species_flag = SdjFlagForbiddenFinely_@prev } }
						set_country_flag = SdjFlagTemplate1_ForbiddenFinely
					}
					else = { remove_country_flag = SdjFlagTemplate1_ForbiddenFinely }
					if = { limit = { prev = { has_species_flag = SdjFlagForbiddenRank3_@prev } }
						set_country_flag = SdjFlagTemplate1_ForbiddenRank3
					}
					else = { remove_country_flag = SdjFlagTemplate1_ForbiddenRank3 }
					if = { limit = { prev = { has_species_flag = SdjFlagForbiddenRank2_@prev } }
						set_country_flag = SdjFlagTemplate1_ForbiddenRank2
					}
					else = { remove_country_flag = SdjFlagTemplate1_ForbiddenRank2 }
					if = { limit = { prev = { has_species_flag = SdjFlagForbiddenRank1_@prev } }
						set_country_flag = SdjFlagTemplate1_ForbiddenRank1
					}
					else = { remove_country_flag = SdjFlagTemplate1_ForbiddenRank1 }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_criminal_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_criminal
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_criminal }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_deviant_drone_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_deviant_drone
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_deviant_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_corrupt_drone_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_corrupt_drone
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_corrupt_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_head_researcher_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_head_researcher
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_head_researcher }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_high_priest_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_high_priest
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_high_priest }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_politician_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_politician
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_politician }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_noble_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_noble
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_noble }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_merchant_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_merchant
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_merchant }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_executive_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_executive
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_executive }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_knight_commander_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_knight_commander
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_knight_commander }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_colonist_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_colonist
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_colonist }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_researcher_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_researcher
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_researcher }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_priest_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_priest
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_priest }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_death_priest_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_death_priest
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_death_priest }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_foundry_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_foundry
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_foundry }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_enforcer_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_enforcer
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_enforcer }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_telepath_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_telepath
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_telepath }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_artisan_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_artisan
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_artisan }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_entertainer_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_entertainer
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_entertainer }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_duelist_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_duelist
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_duelist }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_culture_worker_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_culture_worker
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_culture_worker }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_bureaucrat_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_bureaucrat
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_bureaucrat }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_chemist_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_chemist
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_chemist }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_translucer_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_translucer
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_translucer }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_gas_refiner_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_gas_refiner
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_gas_refiner }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_roboticist_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_roboticist
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_roboticist }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_healthcare_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_healthcare
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_healthcare }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_manager_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_manager
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_manager }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_necromancer_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_necromancer
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_necromancer }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_death_chronicler_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_death_chronicler
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_death_chronicler }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_necro_apprentice_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_necro_apprentice
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_necro_apprentice }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_clerk_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_clerk
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_clerk }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_technician_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_technician
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_technician }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_miner_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_miner
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_miner }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_crystal_miner_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_crystal_miner
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_crystal_miner }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_gas_extractor_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_gas_extractor
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_gas_extractor }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_mote_harvester_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_mote_harvester
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_mote_harvester }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_farmer_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_farmer
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_farmer }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_soldier_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_soldier
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_soldier }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_preacher_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_preacher
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_preacher }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_mortal_initiate_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_mortal_initiate
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_mortal_initiate }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_spawning_drone_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_spawning_drone
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_spawning_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_replicator_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_replicator
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_replicator }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_coordinator_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_coordinator
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_coordinator }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_evaluator_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_evaluator
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_evaluator }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_synapse_drone_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_synapse_drone
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_synapse_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_brain_drone_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_brain_drone
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_brain_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_calculator_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_calculator
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_calculator }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_artisan_drone_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_artisan_drone
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_artisan_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_fabricator_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_fabricator
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_fabricator }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_alloy_drone_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_alloy_drone
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_alloy_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_chemist_drone_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_chemist_drone
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_chemist_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_translucer_drone_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_translucer_drone
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_translucer_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_gas_refiner_drone_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_gas_refiner_drone
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_gas_refiner_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_patrol_drone_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_patrol_drone
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_patrol_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_chronicle_drone_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_chronicle_drone
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_chronicle_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_crystal_mining_drone_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_crystal_mining_drone
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_crystal_mining_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_mote_harvesting_drone_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_mote_harvesting_drone
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_mote_harvesting_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_gas_extraction_drone_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_gas_extraction_drone
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_gas_extraction_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_mining_drone_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_mining_drone
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_mining_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_agri_drone_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_agri_drone
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_agri_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_technician_drone_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_technician_drone
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_technician_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_maintenance_drone_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_maintenance_drone
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_maintenance_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_warrior_drone_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_warrior_drone
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_warrior_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_underground_trade_worker_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_underground_trade_worker
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_underground_trade_worker }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_underground_contact_drone_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_underground_contact_drone
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_underground_contact_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_dimensional_portal_researcher_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_dimensional_portal_researcher
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_dimensional_portal_researcher }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_dimensional_portal_researcher_gestalt_@prev } }
						set_country_flag = SdjFlagTemplate1_Forbidden_job_dimensional_portal_researcher_gestalt
					}
					else = { remove_country_flag = SdjFlagTemplate1_Forbidden_job_dimensional_portal_researcher_gestalt }
				}
			}
		}
	}
	option = {
		name = SdjEvent.1030a2.name
		custom_tooltip = SdjEvent.1030a2.tooltip
		hidden_effect = {
			set_country_flag = SdjFlagSpeciesJobRightTemplate2Saved
			event_target:SdjTargetSpeciesA = {
				root = {
					# SdjEffectSaveSpeciesJobRightAsTemplate2 = yes
					if = { limit = { prev = { has_species_flag = SdjFlagForbiddenFinely_@prev } }
						set_country_flag = SdjFlagTemplate2_ForbiddenFinely
					}
					else = { remove_country_flag = SdjFlagTemplate2_ForbiddenFinely }
					if = { limit = { prev = { has_species_flag = SdjFlagForbiddenRank3_@prev } }
						set_country_flag = SdjFlagTemplate2_ForbiddenRank3
					}
					else = { remove_country_flag = SdjFlagTemplate2_ForbiddenRank3 }
					if = { limit = { prev = { has_species_flag = SdjFlagForbiddenRank2_@prev } }
						set_country_flag = SdjFlagTemplate2_ForbiddenRank2
					}
					else = { remove_country_flag = SdjFlagTemplate2_ForbiddenRank2 }
					if = { limit = { prev = { has_species_flag = SdjFlagForbiddenRank1_@prev } }
						set_country_flag = SdjFlagTemplate2_ForbiddenRank1
					}
					else = { remove_country_flag = SdjFlagTemplate2_ForbiddenRank1 }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_criminal_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_criminal
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_criminal }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_deviant_drone_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_deviant_drone
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_deviant_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_corrupt_drone_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_corrupt_drone
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_corrupt_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_head_researcher_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_head_researcher
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_head_researcher }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_high_priest_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_high_priest
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_high_priest }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_politician_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_politician
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_politician }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_noble_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_noble
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_noble }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_merchant_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_merchant
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_merchant }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_executive_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_executive
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_executive }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_knight_commander_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_knight_commander
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_knight_commander }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_colonist_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_colonist
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_colonist }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_researcher_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_researcher
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_researcher }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_priest_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_priest
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_priest }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_death_priest_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_death_priest
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_death_priest }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_foundry_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_foundry
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_foundry }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_enforcer_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_enforcer
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_enforcer }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_telepath_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_telepath
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_telepath }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_artisan_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_artisan
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_artisan }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_entertainer_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_entertainer
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_entertainer }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_duelist_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_duelist
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_duelist }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_culture_worker_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_culture_worker
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_culture_worker }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_bureaucrat_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_bureaucrat
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_bureaucrat }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_chemist_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_chemist
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_chemist }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_translucer_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_translucer
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_translucer }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_gas_refiner_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_gas_refiner
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_gas_refiner }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_roboticist_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_roboticist
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_roboticist }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_healthcare_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_healthcare
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_healthcare }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_manager_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_manager
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_manager }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_necromancer_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_necromancer
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_necromancer }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_death_chronicler_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_death_chronicler
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_death_chronicler }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_necro_apprentice_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_necro_apprentice
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_necro_apprentice }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_clerk_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_clerk
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_clerk }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_technician_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_technician
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_technician }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_miner_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_miner
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_miner }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_crystal_miner_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_crystal_miner
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_crystal_miner }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_gas_extractor_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_gas_extractor
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_gas_extractor }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_mote_harvester_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_mote_harvester
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_mote_harvester }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_farmer_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_farmer
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_farmer }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_soldier_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_soldier
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_soldier }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_preacher_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_preacher
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_preacher }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_mortal_initiate_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_mortal_initiate
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_mortal_initiate }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_spawning_drone_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_spawning_drone
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_spawning_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_replicator_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_replicator
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_replicator }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_coordinator_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_coordinator
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_coordinator }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_evaluator_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_evaluator
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_evaluator }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_synapse_drone_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_synapse_drone
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_synapse_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_brain_drone_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_brain_drone
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_brain_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_calculator_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_calculator
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_calculator }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_artisan_drone_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_artisan_drone
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_artisan_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_fabricator_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_fabricator
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_fabricator }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_alloy_drone_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_alloy_drone
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_alloy_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_chemist_drone_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_chemist_drone
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_chemist_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_translucer_drone_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_translucer_drone
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_translucer_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_gas_refiner_drone_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_gas_refiner_drone
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_gas_refiner_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_patrol_drone_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_patrol_drone
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_patrol_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_chronicle_drone_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_chronicle_drone
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_chronicle_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_crystal_mining_drone_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_crystal_mining_drone
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_crystal_mining_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_mote_harvesting_drone_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_mote_harvesting_drone
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_mote_harvesting_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_gas_extraction_drone_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_gas_extraction_drone
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_gas_extraction_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_mining_drone_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_mining_drone
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_mining_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_agri_drone_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_agri_drone
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_agri_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_technician_drone_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_technician_drone
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_technician_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_maintenance_drone_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_maintenance_drone
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_maintenance_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_warrior_drone_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_warrior_drone
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_warrior_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_underground_trade_worker_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_underground_trade_worker
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_underground_trade_worker }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_underground_contact_drone_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_underground_contact_drone
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_underground_contact_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_dimensional_portal_researcher_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_dimensional_portal_researcher
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_dimensional_portal_researcher }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_dimensional_portal_researcher_gestalt_@prev } }
						set_country_flag = SdjFlagTemplate2_Forbidden_job_dimensional_portal_researcher_gestalt
					}
					else = { remove_country_flag = SdjFlagTemplate2_Forbidden_job_dimensional_portal_researcher_gestalt }
				}
			}
		}
	}
	option = {
		name = SdjEvent.1030a3.name
		custom_tooltip = SdjEvent.1030a3.tooltip
		hidden_effect = {
			set_country_flag = SdjFlagSpeciesJobRightTemplate3Saved
			event_target:SdjTargetSpeciesA = {
				root = {
					# SdjEffectSaveSpeciesJobRightAsTemplate3 = yes
					if = { limit = { prev = { has_species_flag = SdjFlagForbiddenFinely_@prev } }
						set_country_flag = SdjFlagTemplate3_ForbiddenFinely
					}
					else = { remove_country_flag = SdjFlagTemplate3_ForbiddenFinely }
					if = { limit = { prev = { has_species_flag = SdjFlagForbiddenRank3_@prev } }
						set_country_flag = SdjFlagTemplate3_ForbiddenRank3
					}
					else = { remove_country_flag = SdjFlagTemplate3_ForbiddenRank3 }
					if = { limit = { prev = { has_species_flag = SdjFlagForbiddenRank2_@prev } }
						set_country_flag = SdjFlagTemplate3_ForbiddenRank2
					}
					else = { remove_country_flag = SdjFlagTemplate3_ForbiddenRank2 }
					if = { limit = { prev = { has_species_flag = SdjFlagForbiddenRank1_@prev } }
						set_country_flag = SdjFlagTemplate3_ForbiddenRank1
					}
					else = { remove_country_flag = SdjFlagTemplate3_ForbiddenRank1 }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_criminal_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_criminal
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_criminal }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_deviant_drone_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_deviant_drone
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_deviant_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_corrupt_drone_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_corrupt_drone
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_corrupt_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_head_researcher_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_head_researcher
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_head_researcher }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_high_priest_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_high_priest
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_high_priest }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_politician_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_politician
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_politician }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_noble_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_noble
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_noble }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_merchant_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_merchant
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_merchant }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_executive_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_executive
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_executive }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_knight_commander_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_knight_commander
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_knight_commander }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_colonist_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_colonist
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_colonist }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_researcher_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_researcher
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_researcher }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_priest_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_priest
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_priest }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_death_priest_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_death_priest
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_death_priest }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_foundry_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_foundry
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_foundry }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_enforcer_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_enforcer
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_enforcer }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_telepath_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_telepath
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_telepath }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_artisan_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_artisan
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_artisan }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_entertainer_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_entertainer
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_entertainer }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_duelist_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_duelist
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_duelist }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_culture_worker_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_culture_worker
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_culture_worker }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_bureaucrat_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_bureaucrat
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_bureaucrat }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_chemist_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_chemist
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_chemist }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_translucer_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_translucer
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_translucer }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_gas_refiner_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_gas_refiner
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_gas_refiner }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_roboticist_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_roboticist
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_roboticist }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_healthcare_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_healthcare
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_healthcare }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_manager_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_manager
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_manager }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_necromancer_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_necromancer
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_necromancer }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_death_chronicler_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_death_chronicler
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_death_chronicler }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_necro_apprentice_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_necro_apprentice
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_necro_apprentice }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_clerk_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_clerk
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_clerk }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_technician_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_technician
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_technician }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_miner_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_miner
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_miner }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_crystal_miner_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_crystal_miner
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_crystal_miner }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_gas_extractor_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_gas_extractor
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_gas_extractor }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_mote_harvester_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_mote_harvester
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_mote_harvester }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_farmer_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_farmer
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_farmer }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_soldier_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_soldier
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_soldier }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_preacher_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_preacher
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_preacher }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_mortal_initiate_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_mortal_initiate
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_mortal_initiate }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_spawning_drone_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_spawning_drone
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_spawning_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_replicator_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_replicator
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_replicator }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_coordinator_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_coordinator
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_coordinator }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_evaluator_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_evaluator
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_evaluator }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_synapse_drone_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_synapse_drone
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_synapse_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_brain_drone_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_brain_drone
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_brain_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_calculator_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_calculator
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_calculator }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_artisan_drone_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_artisan_drone
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_artisan_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_fabricator_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_fabricator
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_fabricator }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_alloy_drone_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_alloy_drone
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_alloy_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_chemist_drone_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_chemist_drone
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_chemist_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_translucer_drone_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_translucer_drone
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_translucer_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_gas_refiner_drone_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_gas_refiner_drone
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_gas_refiner_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_patrol_drone_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_patrol_drone
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_patrol_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_chronicle_drone_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_chronicle_drone
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_chronicle_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_crystal_mining_drone_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_crystal_mining_drone
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_crystal_mining_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_mote_harvesting_drone_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_mote_harvesting_drone
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_mote_harvesting_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_gas_extraction_drone_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_gas_extraction_drone
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_gas_extraction_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_mining_drone_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_mining_drone
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_mining_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_agri_drone_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_agri_drone
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_agri_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_technician_drone_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_technician_drone
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_technician_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_maintenance_drone_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_maintenance_drone
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_maintenance_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_warrior_drone_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_warrior_drone
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_warrior_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_underground_trade_worker_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_underground_trade_worker
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_underground_trade_worker }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_underground_contact_drone_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_underground_contact_drone
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_underground_contact_drone }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_dimensional_portal_researcher_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_dimensional_portal_researcher
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_dimensional_portal_researcher }
					if = { limit = { prev = { has_species_flag = SdjFlagForbidden_job_dimensional_portal_researcher_gestalt_@prev } }
						set_country_flag = SdjFlagTemplate3_Forbidden_job_dimensional_portal_researcher_gestalt
					}
					else = { remove_country_flag = SdjFlagTemplate3_Forbidden_job_dimensional_portal_researcher_gestalt }
				}
			}
		}
	}
	# option = {
	# 	name = SdjTextSeparator.name
	# 	custom_tooltip = SdjTextSeparator.tooltip
	# 	allow = { hidden_trigger = { always = no } }
	# }
	### Apply Template
	# option = {
	#	name = SdjEvent.1030b9.name		## Country Standard
	#	custom_tooltip = SdjEvent.1030b9.tooltip
	#	hidden_effect = {  }
	#}
	option = {
		name = SdjEvent.1030b1.name
		custom_tooltip = SdjEvent.1030b1.tooltip
		trigger = { has_country_flag = SdjFlagSpeciesJobRightTemplate1Saved }
		hidden_effect = {
			event_target:SdjTargetSpeciesA = {
				# SdjEffectApplySpeciesJobRightFromTemplate1
				set_species_flag = SdjFlagForbiddenSeparately_@prev
				# SdjEffectApplySpeciesJobRightCategoryFromTemplate1 = yes
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_ForbiddenFinely } }
					set_species_flag = SdjFlagForbiddenFinely_@prev
				}
				else = { remove_species_flag = SdjFlagForbiddenFinely_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_ForbiddenRank3 } }
					set_species_flag = SdjFlagForbiddenRank3_@prev
				}
				else = { remove_species_flag = SdjFlagForbiddenRank3_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_ForbiddenRank2 } }
					set_species_flag = SdjFlagForbiddenRank2_@prev
				}
				else = { remove_species_flag = SdjFlagForbiddenRank2_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_ForbiddenRank1 } }
					set_species_flag = SdjFlagForbiddenRank1_@prev
				}
				else = { remove_species_flag = SdjFlagForbiddenRank1_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_criminal } }
					set_species_flag = SdjFlagForbidden_job_criminal_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_criminal_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_deviant_drone } }
					set_species_flag = SdjFlagForbidden_job_deviant_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_deviant_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_corrupt_drone } }
					set_species_flag = SdjFlagForbidden_job_corrupt_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_corrupt_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_head_researcher } }
					set_species_flag = SdjFlagForbidden_job_head_researcher_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_head_researcher_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_high_priest } }
					set_species_flag = SdjFlagForbidden_job_high_priest_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_high_priest_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_politician } }
					set_species_flag = SdjFlagForbidden_job_politician_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_politician_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_noble } }
					set_species_flag = SdjFlagForbidden_job_noble_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_noble_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_merchant } }
					set_species_flag = SdjFlagForbidden_job_merchant_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_merchant_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_executive } }
					set_species_flag = SdjFlagForbidden_job_executive_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_executive_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_knight_commander } }
					set_species_flag = SdjFlagForbidden_job_knight_commander_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_knight_commander_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_colonist } }
					set_species_flag = SdjFlagForbidden_job_colonist_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_colonist_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_researcher } }
					set_species_flag = SdjFlagForbidden_job_researcher_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_researcher_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_priest } }
					set_species_flag = SdjFlagForbidden_job_priest_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_priest_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_death_priest } }
					set_species_flag = SdjFlagForbidden_job_death_priest_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_death_priest_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_foundry } }
					set_species_flag = SdjFlagForbidden_job_foundry_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_foundry_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_enforcer } }
					set_species_flag = SdjFlagForbidden_job_enforcer_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_enforcer_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_telepath } }
					set_species_flag = SdjFlagForbidden_job_telepath_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_telepath_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_artisan } }
					set_species_flag = SdjFlagForbidden_job_artisan_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_artisan_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_entertainer } }
					set_species_flag = SdjFlagForbidden_job_entertainer_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_entertainer_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_duelist } }
					set_species_flag = SdjFlagForbidden_job_duelist_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_duelist_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_culture_worker } }
					set_species_flag = SdjFlagForbidden_job_culture_worker_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_culture_worker_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_bureaucrat } }
					set_species_flag = SdjFlagForbidden_job_bureaucrat_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_bureaucrat_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_chemist } }
					set_species_flag = SdjFlagForbidden_job_chemist_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_chemist_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_translucer } }
					set_species_flag = SdjFlagForbidden_job_translucer_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_translucer_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_gas_refiner } }
					set_species_flag = SdjFlagForbidden_job_gas_refiner_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_gas_refiner_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_roboticist } }
					set_species_flag = SdjFlagForbidden_job_roboticist_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_roboticist_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_healthcare } }
					set_species_flag = SdjFlagForbidden_job_healthcare_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_healthcare_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_manager } }
					set_species_flag = SdjFlagForbidden_job_manager_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_manager_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_necromancer } }
					set_species_flag = SdjFlagForbidden_job_necromancer_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_necromancer_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_death_chronicler } }
					set_species_flag = SdjFlagForbidden_job_death_chronicler_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_death_chronicler_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_necro_apprentice } }
					set_species_flag = SdjFlagForbidden_job_necro_apprentice_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_necro_apprentice_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_clerk } }
					set_species_flag = SdjFlagForbidden_job_clerk_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_clerk_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_technician } }
					set_species_flag = SdjFlagForbidden_job_technician_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_technician_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_miner } }
					set_species_flag = SdjFlagForbidden_job_miner_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_miner_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_crystal_miner } }
					set_species_flag = SdjFlagForbidden_job_crystal_miner_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_crystal_miner_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_gas_extractor } }
					set_species_flag = SdjFlagForbidden_job_gas_extractor_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_gas_extractor_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_mote_harvester } }
					set_species_flag = SdjFlagForbidden_job_mote_harvester_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_mote_harvester_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_farmer } }
					set_species_flag = SdjFlagForbidden_job_farmer_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_farmer_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_soldier } }
					set_species_flag = SdjFlagForbidden_job_soldier_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_soldier_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_preacher } }
					set_species_flag = SdjFlagForbidden_job_preacher_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_preacher_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_mortal_initiate } }
					set_species_flag = SdjFlagForbidden_job_mortal_initiate_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_mortal_initiate_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_spawning_drone } }
					set_species_flag = SdjFlagForbidden_job_spawning_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_spawning_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_replicator } }
					set_species_flag = SdjFlagForbidden_job_replicator_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_replicator_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_coordinator } }
					set_species_flag = SdjFlagForbidden_job_coordinator_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_coordinator_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_evaluator } }
					set_species_flag = SdjFlagForbidden_job_evaluator_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_evaluator_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_synapse_drone } }
					set_species_flag = SdjFlagForbidden_job_synapse_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_synapse_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_brain_drone } }
					set_species_flag = SdjFlagForbidden_job_brain_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_brain_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_calculator } }
					set_species_flag = SdjFlagForbidden_job_calculator_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_calculator_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_artisan_drone } }
					set_species_flag = SdjFlagForbidden_job_artisan_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_artisan_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_fabricator } }
					set_species_flag = SdjFlagForbidden_job_fabricator_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_fabricator_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_alloy_drone } }
					set_species_flag = SdjFlagForbidden_job_alloy_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_alloy_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_chemist_drone } }
					set_species_flag = SdjFlagForbidden_job_chemist_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_chemist_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_translucer_drone } }
					set_species_flag = SdjFlagForbidden_job_translucer_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_translucer_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_gas_refiner_drone } }
					set_species_flag = SdjFlagForbidden_job_gas_refiner_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_gas_refiner_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_patrol_drone } }
					set_species_flag = SdjFlagForbidden_job_patrol_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_patrol_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_chronicle_drone } }
					set_species_flag = SdjFlagForbidden_job_chronicle_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_chronicle_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_crystal_mining_drone } }
					set_species_flag = SdjFlagForbidden_job_crystal_mining_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_crystal_mining_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_mote_harvesting_drone } }
					set_species_flag = SdjFlagForbidden_job_mote_harvesting_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_mote_harvesting_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_gas_extraction_drone } }
					set_species_flag = SdjFlagForbidden_job_gas_extraction_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_gas_extraction_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_mining_drone } }
					set_species_flag = SdjFlagForbidden_job_mining_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_mining_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_agri_drone } }
					set_species_flag = SdjFlagForbidden_job_agri_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_agri_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_technician_drone } }
					set_species_flag = SdjFlagForbidden_job_technician_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_technician_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_maintenance_drone } }
					set_species_flag = SdjFlagForbidden_job_maintenance_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_maintenance_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_warrior_drone } }
					set_species_flag = SdjFlagForbidden_job_warrior_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_warrior_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_underground_trade_worker } }
					set_species_flag = SdjFlagForbidden_job_underground_trade_worker_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_underground_trade_worker_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_underground_contact_drone } }
					set_species_flag = SdjFlagForbidden_job_underground_contact_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_underground_contact_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_dimensional_portal_researcher } }
					set_species_flag = SdjFlagForbidden_job_dimensional_portal_researcher_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_dimensional_portal_researcher_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate1_Forbidden_job_dimensional_portal_researcher_gestalt } }
					set_species_flag = SdjFlagForbidden_job_dimensional_portal_researcher_gestalt_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_dimensional_portal_researcher_gestalt_@prev }
			}
		}
	}
	option = {
		name = SdjEvent.1030b2.name
		custom_tooltip = SdjEvent.1030b2.tooltip
		trigger = { has_country_flag = SdjFlagSpeciesJobRightTemplate2Saved }
		hidden_effect = {
			event_target:SdjTargetSpeciesA = {
				# SdjEffectApplySpeciesJobRightFromTemplate2
				set_species_flag = SdjFlagForbiddenSeparately_@prev
				# SdjEffectApplySpeciesJobRightCategoryFromTemplate2 = yes
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_ForbiddenFinely } }
					set_species_flag = SdjFlagForbiddenFinely_@prev
				}
				else = { remove_species_flag = SdjFlagForbiddenFinely_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_ForbiddenRank3 } }
					set_species_flag = SdjFlagForbiddenRank3_@prev
				}
				else = { remove_species_flag = SdjFlagForbiddenRank3_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_ForbiddenRank2 } }
					set_species_flag = SdjFlagForbiddenRank2_@prev
				}
				else = { remove_species_flag = SdjFlagForbiddenRank2_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_ForbiddenRank1 } }
					set_species_flag = SdjFlagForbiddenRank1_@prev
				}
				else = { remove_species_flag = SdjFlagForbiddenRank1_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_criminal } }
					set_species_flag = SdjFlagForbidden_job_criminal_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_criminal_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_deviant_drone } }
					set_species_flag = SdjFlagForbidden_job_deviant_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_deviant_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_corrupt_drone } }
					set_species_flag = SdjFlagForbidden_job_corrupt_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_corrupt_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_head_researcher } }
					set_species_flag = SdjFlagForbidden_job_head_researcher_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_head_researcher_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_high_priest } }
					set_species_flag = SdjFlagForbidden_job_high_priest_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_high_priest_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_politician } }
					set_species_flag = SdjFlagForbidden_job_politician_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_politician_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_noble } }
					set_species_flag = SdjFlagForbidden_job_noble_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_noble_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_merchant } }
					set_species_flag = SdjFlagForbidden_job_merchant_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_merchant_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_executive } }
					set_species_flag = SdjFlagForbidden_job_executive_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_executive_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_knight_commander } }
					set_species_flag = SdjFlagForbidden_job_knight_commander_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_knight_commander_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_colonist } }
					set_species_flag = SdjFlagForbidden_job_colonist_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_colonist_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_researcher } }
					set_species_flag = SdjFlagForbidden_job_researcher_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_researcher_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_priest } }
					set_species_flag = SdjFlagForbidden_job_priest_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_priest_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_death_priest } }
					set_species_flag = SdjFlagForbidden_job_death_priest_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_death_priest_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_foundry } }
					set_species_flag = SdjFlagForbidden_job_foundry_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_foundry_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_enforcer } }
					set_species_flag = SdjFlagForbidden_job_enforcer_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_enforcer_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_telepath } }
					set_species_flag = SdjFlagForbidden_job_telepath_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_telepath_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_artisan } }
					set_species_flag = SdjFlagForbidden_job_artisan_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_artisan_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_entertainer } }
					set_species_flag = SdjFlagForbidden_job_entertainer_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_entertainer_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_duelist } }
					set_species_flag = SdjFlagForbidden_job_duelist_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_duelist_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_culture_worker } }
					set_species_flag = SdjFlagForbidden_job_culture_worker_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_culture_worker_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_bureaucrat } }
					set_species_flag = SdjFlagForbidden_job_bureaucrat_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_bureaucrat_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_chemist } }
					set_species_flag = SdjFlagForbidden_job_chemist_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_chemist_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_translucer } }
					set_species_flag = SdjFlagForbidden_job_translucer_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_translucer_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_gas_refiner } }
					set_species_flag = SdjFlagForbidden_job_gas_refiner_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_gas_refiner_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_roboticist } }
					set_species_flag = SdjFlagForbidden_job_roboticist_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_roboticist_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_healthcare } }
					set_species_flag = SdjFlagForbidden_job_healthcare_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_healthcare_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_manager } }
					set_species_flag = SdjFlagForbidden_job_manager_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_manager_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_necromancer } }
					set_species_flag = SdjFlagForbidden_job_necromancer_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_necromancer_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_death_chronicler } }
					set_species_flag = SdjFlagForbidden_job_death_chronicler_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_death_chronicler_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_necro_apprentice } }
					set_species_flag = SdjFlagForbidden_job_necro_apprentice_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_necro_apprentice_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_clerk } }
					set_species_flag = SdjFlagForbidden_job_clerk_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_clerk_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_technician } }
					set_species_flag = SdjFlagForbidden_job_technician_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_technician_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_miner } }
					set_species_flag = SdjFlagForbidden_job_miner_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_miner_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_crystal_miner } }
					set_species_flag = SdjFlagForbidden_job_crystal_miner_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_crystal_miner_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_gas_extractor } }
					set_species_flag = SdjFlagForbidden_job_gas_extractor_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_gas_extractor_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_mote_harvester } }
					set_species_flag = SdjFlagForbidden_job_mote_harvester_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_mote_harvester_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_farmer } }
					set_species_flag = SdjFlagForbidden_job_farmer_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_farmer_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_soldier } }
					set_species_flag = SdjFlagForbidden_job_soldier_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_soldier_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_preacher } }
					set_species_flag = SdjFlagForbidden_job_preacher_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_preacher_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_mortal_initiate } }
					set_species_flag = SdjFlagForbidden_job_mortal_initiate_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_mortal_initiate_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_spawning_drone } }
					set_species_flag = SdjFlagForbidden_job_spawning_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_spawning_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_replicator } }
					set_species_flag = SdjFlagForbidden_job_replicator_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_replicator_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_coordinator } }
					set_species_flag = SdjFlagForbidden_job_coordinator_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_coordinator_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_evaluator } }
					set_species_flag = SdjFlagForbidden_job_evaluator_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_evaluator_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_synapse_drone } }
					set_species_flag = SdjFlagForbidden_job_synapse_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_synapse_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_brain_drone } }
					set_species_flag = SdjFlagForbidden_job_brain_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_brain_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_calculator } }
					set_species_flag = SdjFlagForbidden_job_calculator_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_calculator_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_artisan_drone } }
					set_species_flag = SdjFlagForbidden_job_artisan_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_artisan_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_fabricator } }
					set_species_flag = SdjFlagForbidden_job_fabricator_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_fabricator_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_alloy_drone } }
					set_species_flag = SdjFlagForbidden_job_alloy_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_alloy_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_chemist_drone } }
					set_species_flag = SdjFlagForbidden_job_chemist_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_chemist_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_translucer_drone } }
					set_species_flag = SdjFlagForbidden_job_translucer_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_translucer_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_gas_refiner_drone } }
					set_species_flag = SdjFlagForbidden_job_gas_refiner_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_gas_refiner_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_patrol_drone } }
					set_species_flag = SdjFlagForbidden_job_patrol_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_patrol_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_chronicle_drone } }
					set_species_flag = SdjFlagForbidden_job_chronicle_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_chronicle_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_crystal_mining_drone } }
					set_species_flag = SdjFlagForbidden_job_crystal_mining_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_crystal_mining_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_mote_harvesting_drone } }
					set_species_flag = SdjFlagForbidden_job_mote_harvesting_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_mote_harvesting_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_gas_extraction_drone } }
					set_species_flag = SdjFlagForbidden_job_gas_extraction_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_gas_extraction_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_mining_drone } }
					set_species_flag = SdjFlagForbidden_job_mining_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_mining_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_agri_drone } }
					set_species_flag = SdjFlagForbidden_job_agri_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_agri_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_technician_drone } }
					set_species_flag = SdjFlagForbidden_job_technician_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_technician_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_maintenance_drone } }
					set_species_flag = SdjFlagForbidden_job_maintenance_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_maintenance_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_warrior_drone } }
					set_species_flag = SdjFlagForbidden_job_warrior_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_warrior_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_underground_trade_worker } }
					set_species_flag = SdjFlagForbidden_job_underground_trade_worker_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_underground_trade_worker_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_underground_contact_drone } }
					set_species_flag = SdjFlagForbidden_job_underground_contact_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_underground_contact_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_dimensional_portal_researcher } }
					set_species_flag = SdjFlagForbidden_job_dimensional_portal_researcher_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_dimensional_portal_researcher_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate2_Forbidden_job_dimensional_portal_researcher_gestalt } }
					set_species_flag = SdjFlagForbidden_job_dimensional_portal_researcher_gestalt_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_dimensional_portal_researcher_gestalt_@prev }
			}
		}
	}
	option = {
		name = SdjEvent.1030b3.name
		custom_tooltip = SdjEvent.1030b3.tooltip
		trigger = { has_country_flag = SdjFlagSpeciesJobRightTemplate3Saved }
		hidden_effect = {
			event_target:SdjTargetSpeciesA = {
				# SdjEffectApplySpeciesJobRightFromTemplate3
				set_species_flag = SdjFlagForbiddenSeparately_@prev
				# SdjEffectApplySpeciesJobRightCategoryFromTemplate3 = yes
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_ForbiddenFinely } }
					set_species_flag = SdjFlagForbiddenFinely_@prev
				}
				else = { remove_species_flag = SdjFlagForbiddenFinely_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_ForbiddenRank3 } }
					set_species_flag = SdjFlagForbiddenRank3_@prev
				}
				else = { remove_species_flag = SdjFlagForbiddenRank3_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_ForbiddenRank2 } }
					set_species_flag = SdjFlagForbiddenRank2_@prev
				}
				else = { remove_species_flag = SdjFlagForbiddenRank2_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_ForbiddenRank1 } }
					set_species_flag = SdjFlagForbiddenRank1_@prev
				}
				else = { remove_species_flag = SdjFlagForbiddenRank1_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_criminal } }
					set_species_flag = SdjFlagForbidden_job_criminal_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_criminal_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_deviant_drone } }
					set_species_flag = SdjFlagForbidden_job_deviant_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_deviant_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_corrupt_drone } }
					set_species_flag = SdjFlagForbidden_job_corrupt_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_corrupt_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_head_researcher } }
					set_species_flag = SdjFlagForbidden_job_head_researcher_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_head_researcher_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_high_priest } }
					set_species_flag = SdjFlagForbidden_job_high_priest_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_high_priest_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_politician } }
					set_species_flag = SdjFlagForbidden_job_politician_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_politician_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_noble } }
					set_species_flag = SdjFlagForbidden_job_noble_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_noble_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_merchant } }
					set_species_flag = SdjFlagForbidden_job_merchant_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_merchant_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_executive } }
					set_species_flag = SdjFlagForbidden_job_executive_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_executive_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_knight_commander } }
					set_species_flag = SdjFlagForbidden_job_knight_commander_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_knight_commander_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_colonist } }
					set_species_flag = SdjFlagForbidden_job_colonist_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_colonist_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_researcher } }
					set_species_flag = SdjFlagForbidden_job_researcher_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_researcher_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_priest } }
					set_species_flag = SdjFlagForbidden_job_priest_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_priest_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_death_priest } }
					set_species_flag = SdjFlagForbidden_job_death_priest_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_death_priest_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_foundry } }
					set_species_flag = SdjFlagForbidden_job_foundry_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_foundry_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_enforcer } }
					set_species_flag = SdjFlagForbidden_job_enforcer_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_enforcer_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_telepath } }
					set_species_flag = SdjFlagForbidden_job_telepath_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_telepath_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_artisan } }
					set_species_flag = SdjFlagForbidden_job_artisan_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_artisan_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_entertainer } }
					set_species_flag = SdjFlagForbidden_job_entertainer_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_entertainer_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_duelist } }
					set_species_flag = SdjFlagForbidden_job_duelist_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_duelist_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_culture_worker } }
					set_species_flag = SdjFlagForbidden_job_culture_worker_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_culture_worker_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_bureaucrat } }
					set_species_flag = SdjFlagForbidden_job_bureaucrat_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_bureaucrat_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_chemist } }
					set_species_flag = SdjFlagForbidden_job_chemist_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_chemist_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_translucer } }
					set_species_flag = SdjFlagForbidden_job_translucer_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_translucer_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_gas_refiner } }
					set_species_flag = SdjFlagForbidden_job_gas_refiner_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_gas_refiner_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_roboticist } }
					set_species_flag = SdjFlagForbidden_job_roboticist_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_roboticist_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_healthcare } }
					set_species_flag = SdjFlagForbidden_job_healthcare_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_healthcare_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_manager } }
					set_species_flag = SdjFlagForbidden_job_manager_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_manager_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_necromancer } }
					set_species_flag = SdjFlagForbidden_job_necromancer_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_necromancer_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_death_chronicler } }
					set_species_flag = SdjFlagForbidden_job_death_chronicler_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_death_chronicler_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_necro_apprentice } }
					set_species_flag = SdjFlagForbidden_job_necro_apprentice_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_necro_apprentice_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_clerk } }
					set_species_flag = SdjFlagForbidden_job_clerk_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_clerk_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_technician } }
					set_species_flag = SdjFlagForbidden_job_technician_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_technician_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_miner } }
					set_species_flag = SdjFlagForbidden_job_miner_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_miner_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_crystal_miner } }
					set_species_flag = SdjFlagForbidden_job_crystal_miner_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_crystal_miner_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_gas_extractor } }
					set_species_flag = SdjFlagForbidden_job_gas_extractor_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_gas_extractor_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_mote_harvester } }
					set_species_flag = SdjFlagForbidden_job_mote_harvester_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_mote_harvester_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_farmer } }
					set_species_flag = SdjFlagForbidden_job_farmer_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_farmer_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_soldier } }
					set_species_flag = SdjFlagForbidden_job_soldier_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_soldier_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_preacher } }
					set_species_flag = SdjFlagForbidden_job_preacher_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_preacher_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_mortal_initiate } }
					set_species_flag = SdjFlagForbidden_job_mortal_initiate_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_mortal_initiate_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_spawning_drone } }
					set_species_flag = SdjFlagForbidden_job_spawning_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_spawning_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_replicator } }
					set_species_flag = SdjFlagForbidden_job_replicator_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_replicator_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_coordinator } }
					set_species_flag = SdjFlagForbidden_job_coordinator_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_coordinator_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_evaluator } }
					set_species_flag = SdjFlagForbidden_job_evaluator_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_evaluator_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_synapse_drone } }
					set_species_flag = SdjFlagForbidden_job_synapse_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_synapse_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_brain_drone } }
					set_species_flag = SdjFlagForbidden_job_brain_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_brain_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_calculator } }
					set_species_flag = SdjFlagForbidden_job_calculator_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_calculator_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_artisan_drone } }
					set_species_flag = SdjFlagForbidden_job_artisan_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_artisan_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_fabricator } }
					set_species_flag = SdjFlagForbidden_job_fabricator_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_fabricator_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_alloy_drone } }
					set_species_flag = SdjFlagForbidden_job_alloy_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_alloy_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_chemist_drone } }
					set_species_flag = SdjFlagForbidden_job_chemist_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_chemist_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_translucer_drone } }
					set_species_flag = SdjFlagForbidden_job_translucer_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_translucer_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_gas_refiner_drone } }
					set_species_flag = SdjFlagForbidden_job_gas_refiner_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_gas_refiner_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_patrol_drone } }
					set_species_flag = SdjFlagForbidden_job_patrol_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_patrol_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_chronicle_drone } }
					set_species_flag = SdjFlagForbidden_job_chronicle_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_chronicle_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_crystal_mining_drone } }
					set_species_flag = SdjFlagForbidden_job_crystal_mining_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_crystal_mining_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_mote_harvesting_drone } }
					set_species_flag = SdjFlagForbidden_job_mote_harvesting_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_mote_harvesting_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_gas_extraction_drone } }
					set_species_flag = SdjFlagForbidden_job_gas_extraction_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_gas_extraction_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_mining_drone } }
					set_species_flag = SdjFlagForbidden_job_mining_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_mining_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_agri_drone } }
					set_species_flag = SdjFlagForbidden_job_agri_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_agri_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_technician_drone } }
					set_species_flag = SdjFlagForbidden_job_technician_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_technician_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_maintenance_drone } }
					set_species_flag = SdjFlagForbidden_job_maintenance_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_maintenance_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_warrior_drone } }
					set_species_flag = SdjFlagForbidden_job_warrior_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_warrior_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_underground_trade_worker } }
					set_species_flag = SdjFlagForbidden_job_underground_trade_worker_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_underground_trade_worker_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_underground_contact_drone } }
					set_species_flag = SdjFlagForbidden_job_underground_contact_drone_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_underground_contact_drone_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_dimensional_portal_researcher } }
					set_species_flag = SdjFlagForbidden_job_dimensional_portal_researcher_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_dimensional_portal_researcher_@prev }
				if = { limit = { prev = { has_country_flag = SdjFlagTemplate3_Forbidden_job_dimensional_portal_researcher_gestalt } }
					set_species_flag = SdjFlagForbidden_job_dimensional_portal_researcher_gestalt_@prev
				}
				else = { remove_species_flag = SdjFlagForbidden_job_dimensional_portal_researcher_gestalt_@prev }
			}
		}
	}
}
